<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SQLite Studio | Professional SQLite Editor</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="public/icon.ico">
</head>

<body>
    <nav class="navbar">
        <div class="container navbar-inner">
            <div class="logo">
                <img src="public/icon.ico" alt="SQLite Studio Logo" class="logo-img">
                <span class="logo-text">SQLite Studio</span>
            </div>
            <div class="nav-links">
                <a href="documentation.html" class="nav-link">Documentation</a>
                <a href="https://github.com/Michikaitsu/sqlite-studio" target="_blank" class="nav-link">GitHub</a>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-glow"></div>
        <div class="container hero-inner">
            <img src="public/icon.ico" alt="SQLite Studio" class="hero-icon">
            <h1 class="hero-title">Manage SQLite with <span class="text-gradient">Precision</span>.</h1>
            <p class="hero-subtitle">A professional desktop application for managing and modeling SQLite databases,
                developed for developers by Michikaitsu.</p>
            <div class="hero-actions">
                <a href="javascript:void(0)" class="btn btn-primary btn-lg open-download">Download for Windows</a>
                <a href="https://github.com/Michikaitsu/sqlite-studio" class="btn btn-secondary btn-lg"
                    target="_blank">View Source</a>
            </div>
            <div id="release-info" class="release-tag" style="display: none;">
                Latest version: <span id="version-number">...</span>
            </div>
        </div>
    </header>

    <!-- Download Modal -->
    <div id="download-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Select Download Type</h3>
                <button class="close-modal">&times;</button>
            </div>
            <p class="modal-desc">Choose how you want to use SQLite Studio on your Windows machine.</p>
            <div class="download-options">
                <a href="#" id="setup-link" class="download-option">
                    <div class="option-icon">üì¶</div>
                    <div class="option-text">
                        <span class="option-title">Installer (Setup)</span>
                        <span class="option-subtitle">Standard installation with desktop shortcuts.</span>
                    </div>
                </a>
                <a href="#" id="portable-link" class="download-option">
                    <div class="option-icon">üöÄ</div>
                    <div class="option-text">
                        <span class="option-title">Portable (.zip)</span>
                        <span class="option-subtitle">Zip file, no installation required.</span>
                    </div>
                </a>
            </div>
            <div class="modal-footer">
                <p>Not seeing the latest version? <a href="https://github.com/Michikaitsu/sqlite-studio/releases"
                        target="_blank">View on GitHub</a></p>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <h2 class="section-title">Everything you need</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìù</div>
                    <h3>Monaco Editor</h3>
                    <p>Advanced SQL editing with syntax highlighting, autocomplete, and smart suggestions powered by the
                        VS Code engine.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Visual Schema</h3>
                    <p>Model your database visually with interactive ER-diagrams. Export your designs as high-quality
                        PNG or SVG files.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üé®</div>
                    <h3>Modern Studio</h3>
                    <p>A sleek, premium interface with full dark mode support, glassmorphism effects, and smooth
                        animations.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>WASM Powered</h3>
                    <p>Built on sql.js, offering blazing fast in-memory performance and maximum portability across
                        Windows systems.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-inner">
                <p>&copy; 2026 SQLite Studio. Developed by <a href="https://github.com/Michikaitsu"
                        target="_blank">Michikaitsu</a>.</p>
                <div class="footer-links">
                    <a href="documentation.html">Docs</a>
                    <a href="license.html">License</a>
                    <a href="https://github.com/Michikaitsu/sqlite-studio" target="_blank">GitHub</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const REPO = 'Michikaitsu/sqlite-studio';
        const modal = document.getElementById('download-modal');
        const openBtns = document.querySelectorAll('.open-download');
        const closeBtn = document.querySelector('.close-modal');

        // Modal Logic
        openBtns.forEach(btn => {
            btn.onclick = () => modal.style.display = 'flex';
        });

        closeBtn.onclick = () => modal.style.display = 'none';
        window.onclick = (e) => {
            if (e.target == modal) modal.style.display = 'none';
        };

        // GitHub API Logic
        async function fetchLatestRelease() {
            try {
                const response = await fetch(`https://api.github.com/repos/${REPO}/releases/latest`);
                const data = await response.json();

                if (data.tag_name) {
                    document.getElementById('version-number').innerText = data.tag_name;
                    document.getElementById('release-info').style.display = 'block';

                    // Scan assets
                    const assets = data.assets;
                    const setupAsset = assets.find(a => a.name.includes('Setup') && a.name.endsWith('.exe'));
                    const portableAsset = assets.find(a => !a.name.includes('Setup') && a.name.endsWith('.zip'));

                    if (setupAsset) document.getElementById('setup-link').href = setupAsset.browser_download_url;
                    if (portableAsset) document.getElementById('portable-link').href = portableAsset.browser_download_url;
                }
            } catch (err) {
                console.error('Failed to fetch release:', err);
            }
        }

        fetchLatestRelease();
    </script>
</body>

</html>
